<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SX Color Creation</title>
    <script type="text/javascript" src="../../../../sxScripts/jq/jquery.min.js"></script>
    <style>
        html {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            margin-top: 7rem;
        }

        .color_bar {
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            height: 6rem;
            display: flex;
            flex-wrap: nowrap;
            justify-content: space-between;
            align-items: flex-start;
            background-color: #dddddd;
            border-bottom: 1px solid #000;
            padding: 5px 0 0 10px;
        }

        .color-number {
            font-weight: bold;
        }

        .color_block {
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            align-items: flex-start;
            row-gap: 0.4rem;

        }

        .color_bar input[type='text'] {
            height: 1.8rem;
        }

        .color_bar input[type='radio'] {
            transform: scale(1.5);
        }

        .color_palettes {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
        }

        .color_palettes div {
            border-top: 1px solid #fff;
            border-right: 1px solid #fff;
            cursor: pointer;
        }

        .color_palettes div.bgc {
            flex: 1;
        }

        div.rgb_top,
        div.rgb_left {
            text-align: center;
            font-size: 0.8rem;
            color: #000000;
        }

        div.rgb_top {
            height: 1.25rem !important;
        }

        div.rgb_left {
            border-top: 1px solid #cccccc;
        }

        div.hex_order {
            color: #ffffff;
            background-color: #808080;
        }

        div.clear {
            width: 100%;
            padding: 0;
            margin: 0;
            border: 0;
        }

        .black {
            color: rgba(0, 0, 0, 0.75)
        }

        .white {
            color: rgba(255, 255, 255, 0.75)
        }

        .flex_between {
            display: flex;
            flex-wrap: nowrap;
            justify-content: space-around;
            align-items: center;
            font-size: 1.25rem;
            font-weight: bold;
            flex: 2;
        }

        div.border {
            box-shadow: inset 0px 0px 0px 2px #fff;
        }

        .select_order span {
            background-color: #ffffffcc;
            padding: 2px 4px;
            margin-right: 4px;
        }
    </style>
</head>

<body>
    <div class="color_bar" id="viewHEX">
        <div class="color_block">
            <div>Wait for loading 33<sup>3</sup> and 49<sup>3</sup> colors</div>
            <div class="select_order">
                <b>Order</b>
                <span>
                    <input type="radio" name="select_order" value="rgb" title="Normal, Vertical: Red-Green > Horizontal: Blue" checked> rgb
                    <input type="radio" name="select_order" value="rbg" title="Vertical: Red-Blue > Horizontal: Green"> rbg
                </span>
                <span>
                    <input type="radio" name="select_order" value="gbr" title="Vertical: Blue-Red > Horizontal: Green"> brg
                    <input type="radio" name="select_order" value="bgr" title="Vertical: Blue-Green > Horizontal: Red"> bgr
                </span>
                <span>
                    <input type="radio" name="select_order" value="grb" title="Vertical: Green-Red > Horizontal: Blue"> grb
                    <input type="radio" name="select_order" value="brg" title="Vertical: Green-Blue > Horizontal: Red"> gbr
                </span>
            </div>
            <div class="select_colors">
                <b>Colors</b> <input type="radio" name="select_colors" value="6"> 6<sup>3</sup>
                <input type="radio" name="select_colors" value="16" checked title="You can see color differences from one horizontal step to another - 4 096 colors"> 16<sup>3</sup>
                <input type="radio" name="select_colors" value="33" title="You can barely see color differences from one horizontal step to another - 35 937 colors"> 33<sup>3</sup>
                <input type="radio" name="select_colors" value="49" title="You cannot see color differences from one horizontal step to another - 117 649 colors"> 49<sup>3</sup>
                <span class="color-number" id="color-number"></span>
            </div>
        </div>
        <div class="flex_between">
            <span class="black">BLACK with 75% opacity</span>
            <span class="white">WHITE with 75% opacity</span>
            <div>
                <input type="text" id="inputHEX" name="inputHEX" value="HEX"><br>
                <input type="text" id="inputRGB" name="inputRGB" value="RGB">
            </div>
        </div>
    </div>
    <div class="color_palettes" id="jqColorPalettes">

    </div>

    <script>
        function hexToRGB(hex, alpha) {
            var r = parseInt(hex.slice(1, 3), 16),
                g = parseInt(hex.slice(3, 5), 16),
                b = parseInt(hex.slice(5, 7), 16);

            if (alpha) {
                return "rgba(" + r + ", " + g + ", " + b + ", " + alpha + ")";
            } else {
                return "rgb(" + r + ", " + g + ", " + b + ")";
            }
        }
        $(function () {

            function get_color_palettes(colorArray, cellsPerRow, imgHeight, c_order) {
                var codes = colorArray;
                var plus = 2;
                if (cellsPerRow > 32) {
                    var plus = 3;
                }
                var imgWidth = (100 / (cellsPerRow + plus)) + '%';
                var ctr = 1;
                var palette = $("#jqColorPalettes");
                var img_Width = '40px';
                var iLength = codes.length;
                var hex_order = "RG>B";
                if (c_order == 'rbg') {
                    hex_order = "RB>G";
                } else if (c_order == 'gbr') {
                    hex_order = "BR>G";
                } else if (c_order == 'grb') {
                    hex_order = "GR>B";
                } else if (c_order == 'brg') {
                    hex_order = "GB>R";
                } else if (c_order == 'bgr') {
                    hex_order = "BG>R";
                }

                palette.html('');
                for (var r = 0; r < iLength; ++r) {
                    palette.append('<div class="clear"></div>');
                    palette.append('<div class="rgb_top hex_order" style="width: ' + img_Width + '; height:' + imgHeight + ';">' + hex_order + '</div>');
                    for (var z = 0; z < iLength; ++z) {
                        palette.append('<div class="rgb_top bgc" style="width: ' + imgWidth + '; height:' + imgHeight + ';">' + codes[z] + '</div>');
                    }
                    palette.append('<div class="clear"></div>');
                    for (var g = 0; g < iLength; ++g) {
                        for (var b = 0; b < iLength; ++b) {

                            if (ctr > (cellsPerRow)) {
                                palette.append('<div class="clear"></div>');
                                ctr = 1;
                            }

                            if (b == 0) {
                                palette.append('<div class="rgb_left" style="width: ' + img_Width + '; height:' + imgHeight + ';">' + codes[r] + codes[g] + '</div>');
                            }

                            if (c_order == 'rgb') {
                                var hexCode1 = "#" + codes[r] + codes[g] + codes[b];
                            } else if (c_order == 'rbg') {
                                var hexCode1 = "#" + codes[r] + codes[b] + codes[g];
                            } else if (c_order == 'gbr') {
                                var hexCode1 = "#" + codes[g] + codes[b] + codes[r];
                            } else if (c_order == 'grb') {
                                var hexCode1 = "#" + codes[g] + codes[r] + codes[b];
                            } else if (c_order == 'brg') {
                                var hexCode1 = "#" + codes[b] + codes[r] + codes[g];
                            } else if (c_order == 'bgr') {
                                var hexCode1 = "#" + codes[b] + codes[g] + codes[r];
                            }
                            palette.append('<div class="bgc" style="width: ' + imgWidth + '; height:' + imgHeight + '; background-color:' + hexCode1 + '" title="' + hexCode1 + '"></div>');
                            ctr++;
                        }
                    }
                }

                palette.append('<div class="clear"></div>');
                palette.append('<div class="rgb_top" style="width: ' + img_Width + '; height:' + imgHeight + ';">RGB</div>');
                for (var r = 0; r < iLength; ++r) {
                    palette.append('<div class="rgb_top bgc" style="width: ' + imgWidth + '; height:' + imgHeight + ';">' + codes[r] + '</div>');
                }

                for (var r = 0; r < iLength; ++r) {
                    if (r == 0) {
                        palette.append('<div class="clear"></div>');
                        palette.append('<div class="rgb_left" style="width: ' + img_Width + '; height:' + imgHeight + ';">RGB</div>');
                    }
                    var hexCode1 = "#" + codes[r] + codes[r] + codes[r];
                    palette.append('<div class="bgc" style="width: ' + imgWidth + '; height:' + imgHeight + ';  background-color:' + hexCode1 + '" title="' + hexCode1 + '"></div>');
                }
            }

            /**
             * Set initial palette
             */
            colorArray = ['FF', 'EE', 'DD', 'CC', 'BB', 'AA', '99', '88', '77', '66', '55', '44', '33', '22', '11', '00'];
            cellsPerRow = 16;
            imgHeight = '48px';
            var iColors = $('#color-number');
            iColors.text((16 * 16 * 16).toLocaleString() + ' colors');


            get_color_palettes(colorArray, cellsPerRow, imgHeight, 'rgb');
            sxChangesColorPalettes();

            $('.select_order input').on('click', function () {
                $('input[name="select_colors"]:checked').click();
            });

            $('.select_colors input').on('click', function () {
                var c_order = $('input[name="select_order"]:checked').val();
                if ($(this).val() == 6) {
                    colorArray = ['FF', 'CC', '99', '66', '33', '00'];
                    cellsPerRow = 6;
                    imgHeight = '50px';
                    iColors.text((6 * 6 * 6) + ' colors');
                } else if ($(this).val() == 16) {
                    colorArray = ['FF', 'EE', 'DD', 'CC', 'BB', 'AA', '99', '88', '77', '66', '55', '44', '33', '22', '11', '00'];
                    cellsPerRow = 16;
                    imgHeight = '48px';
                    iColors.text((16 * 16 * 16).toLocaleString() + ' colors');
                } else if ($(this).val() == 33) {
                    colorArray = [
                        'FF',
                        'F8', 'F0', 'E8', 'E0',
                        'D8', 'D0', 'C8', 'C0',
                        'B8', 'B0', 'A8', 'A0',
                        '98', '90', '88', '80',
                        '78', '70', '68', '60',
                        '58', '50', '48', '40',
                        '38', '30', '28', '20',
                        '18', '10', '08', '00'
                    ];
                    cellsPerRow = 33;
                    imgHeight = '24px';
                    iColors.text((33 * 33 * 33).toLocaleString() + ' colors');
                } else if ($(this).val() == 49) {
                    colorArray = [
                        'FF',
                        'FA', 'F5', 'F0',
                        'EA', 'E5', 'E0',
                        'DA', 'D5', 'D0',
                        'CA', 'C5', 'C0',
                        'BA', 'B5', 'B0',
                        'AA', 'A5', 'A0',
                        '9A', '95', '90',
                        '8A', '85', '80',
                        '7A', '75', '70',
                        '6A', '65', '60',
                        '5A', '55', '50',
                        '4A', '45', '40',
                        '3A', '35', '30',
                        '2A', '25', '20',
                        '1A', '15', '10',
                        '0A', '05', '00'
                    ];
                    cellsPerRow = 49;
                    imgHeight = '20px';
                    iColors.text((49 * 49 * 49).toLocaleString() + ' colors');
                }
                get_color_palettes(colorArray, cellsPerRow, imgHeight, c_order);
                sxChangesColorPalettes();
            })
        });

        var sxChangesColorPalettes = function () {
            $('#jqColorPalettes div').on('click', function () {
                if ($(this).attr('title').length) {
                    $('.bgc').removeClass('border');
                    $(this).addClass('border');
                    hexColor = $(this).attr('title');
                    $('#viewHEX').css('background', hexColor);
                    $('#inputHEX').val(hexColor);

                    $('#inputRGB').val(hexToRGB(hexColor));
                }
            })
        }
    </script>

</body>

</html>