<!DOCTYPE html>
<html lang="en">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>CSS Root Colors</title>
    <link rel="stylesheet" href="src/css_root_colors.css?c=2023-10">
    <script type="text/javascript" src="../../../sxScripts/jq/jquery.min.js"></script>
    <script type="text/javascript" src="src/tinycolor.js"></script>
    <script type="text/javascript" src="src/mix.js"></script>
</head>

<body>
    <div class="ps_flex_header">
        <div class="color_form" title="Click outside the color palette after selection">
            <input id="GetColors" name="GetColors" type="color" value="#152555">
        </div>
        <div class="color_form">
            HEX: #<input id="HEX_Color" name="HEX_Color" size="6" type="text" value="">
            <input id="GetHEXColor" name="GetHEXColor" type="button" value="Set HEX Color">
        </div>

        <div class="color_form">
            <label>R:<input id="R_Color" name="R_Color" type="number" min="0" max="255"></label>
            <label>G:<input id="G_Color" name="G_Color" type="number" min="0" max="255"></label>
            <label>B:<input id="B_Color" name="B_Color" type="number" min="0" max="255"></label>
            <input id="GetRBGColor" name="GetRBGColor" type="button" value="Set RBG Color">
        </div>
        <div>
            <h3>Public Sphere - CSS Color Scheme Creator
                <span>Using <a target="_blank" href="https://github.com/bgrins/TinyColor">tinycolor.js</a> and mix.js</span>
            </h3>
        </div>
    </div>
    <div class="page">
        <div class="sub_header ps_flex_row ps_flex_between">
            <div>
                <b>Brightness:</b> <code id="Brightness"></code>
                <b>Lightness:</b> <code id="Lightness"></code>
                <code id="str_rgb"></code><code id="str_rgb_percent"></code>
                <code id="str_hsl"></code>
                <code id="str_hsv"></code>
            </div>
            <div class="ps_links">
                <a target="_blank" href="tiny/index.html">Tiny Demo</a>
                <a target="_blank" href="tiny/tinycolor.html">Tiny Codes</a>
                <a target="_blank" href="colors/default.html">RGB Colors</a> |
                <a target="_blank" href="colors/500_Colours.html">500 Colors</a> |
                <a target="_blank" href="color_meanings/index.html">Color Meanings</a> |
            </div>
        </div>

        <div class="ps_flex">
            <div class="ps_container color_span">
                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Basic Color</h4>
                        <div class="ps_flex_row ps_gap">
                            <div class="ps_flex_column" id="basic">
                            </div>
                            <div>Basic color with Tint, Shade and Tone gradients increased by 10%. Last Tint color is by 95%.<br>
                                The first Tones use Medium Gray #808080, the second, Light Grey (-lg) #D3D3D3, and the third, Dark Grey (-dg) #555555.
                            </div>
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>basic-tint<br>basic-shade<br>basic-tone<br>basic-tone-lg<br>Basic-tone-dg</span></h4>
                        <div class="ps_flex_column" id="basic_colors">
                        </div>
                    </div>
                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Comple-ment</h4>
                        <div class="ps_flex_row ps_gap">
                            <div class="ps_flex_column" id="complementary">
                            </div>
                        </div>
                        <div class="text">Complement color with Tint (white) and Shade (black)
                            gradients<br>and with Lighten and Brighten Scales, all increased by 10%.
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>-tint<br>-shade<br>-lighten<br>-brighten</span></h4>
                        <div class="ps_flex_column" id="complement">
                        </div>
                    </div>
                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Scales</h4>
                        <div class="ps_flex_row ps_gap">
                            <div class="ps_flex_column" id="scales">
                            </div>
                        </div>
                        <div class="text">Various scales of basic color increased by 10%.<br>
                            Desaturate colors are Tones using the grey conversion of basic color.
                        </div>
                    </div>

                    <div class="ps_flex_row">
                        <h4>Lighten</h4>
                        <div class="ps_flex_column" id="lighten">
                        </div>
                    </div>

                    <div class="ps_flex_row">
                        <h4>Brighten</h4>
                        <div class="ps_flex_column" id="brighten">
                        </div>
                    </div>

                    <div class="ps_flex_row">
                        <h4>Darken</h4>
                        <div class="ps_flex_column" id="darken">
                        </div>
                    </div>

                    <div class="ps_flex_row">
                        <h4>Saturate</h4>
                        <div class="ps_flex_column" id="saturate">
                        </div>
                    </div>

                    <div class="ps_flex_row">
                        <h4>Desaturate</h4>
                        <div class="ps_flex_column" id="desaturate">
                        </div>
                    </div>

                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Monochrom</h4>
                        <div class="ps_flex_row ps_gap">
                            <div class="ps_flex_column" id="monochrom">
                            </div>
                        </div>
                        <div class="text">With Tint and Shade gradients increased by 20%.<br>
                            Last Tint Color is by 90%.
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>monochrom-1<br>monochrom-2<br>monochrom-3<br>monochrom-4<br>monochrom-5</span></h4>
                        <div class="ps_flex_column" id="monochromatic">
                        </div>
                    </div>

                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Analog</h4>
                        <div class="ps_flex_row ps_gap">
                            <div class="ps_flex_column" id="analog">
                            </div>
                        </div>
                        <div class="text">With tint and shade gradients increased by 20%.<br>
                            Last Tint color is by 90%.
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>analog-1<br>analog-2<br>analog-3<br>analog-4</span></h4>
                        <div class="ps_flex_column" id="analogous">
                        </div>
                    </div>
                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Triad</h4>
                        <div class="ps_flex_column" id="triad"></div>
                        <div class="text">Last Tint color is by 95%.</div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>triad-1</span></h4>
                        <div class="ps_flex_column" id="triad-left">
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>triad-2</span></h4>
                        <div class="ps_flex_column" id="triad-right">
                        </div>
                    </div>
                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Tetrad</h4>
                        <div class="ps_flex_column" id="tetrad"></div>
                        <div class="text">Last Tint color is by 95%.</div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>tetrad-1</span></h4>
                        <div class="ps_flex_column" id="tetrad-left">
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>tetrad-2</span></h4>
                        <div class="ps_flex_column" id="tetrad-right">
                        </div>
                    </div>
                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Split</h4>
                        <div class="ps_flex_column" id="split"></div>
                        <div class="text">Last Tint color is by 95%.</div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>split-1</span></h4>
                        <div class="ps_flex_column" id="split-left">
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>split-2</span></h4>
                        <div class="ps_flex_column" id="split-right">
                        </div>
                    </div>
                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4>Grey</h4>
                        <div class="ps_flex_row ps_gap">
                            <div class="ps_flex_column" id="grey_conversion">
                            </div>
                        </div>
                        <div class="text">Grey conversion of basic color with Tint (white) and Shade (black)
                            gradients increased by 10%. Last Tint is by 95%.
                        </div>
                    </div>
                    <div class="ps_flex_row">
                        <h4><span>-tint<br>-shade<br></span></h4>
                        <div class="ps_flex_column" id="grey">
                        </div>
                    </div>
                </div>

                <div class="ps_container">
                    <div class="ps_flex_row">
                        <h4></h4>
                        <div class="ps_flex_column"><p>Basic Color spinned around the Color Wheel by 30 degrees.
                            The colors are not included in the CSS Root Colors</p></div>
                    </div>
                    <div class="ps_flex_row">
                        <h4>Hue Spin</h4>
                        <div class="ps_flex_column" id="spin"></div>
                    </div>
                    <div class="ps_flex_row">
                        <h4></h4>
                        <div class="ps_flex_column" id="hue">
                        </div>
                    </div>
                </div>
                <!--
            -->

            </div>

            <div class="ps_container">
                <div class="ps_flex">
                    <h4>CSS Root Color Variables</h4>
                    <button id="copy" title="Copy to Clipboard">Copy</button>
                    <button id="download" title="Download as CSS file">Download</button>
                </div>
                <pre class="textarea" id="root_variables"></pre>
            </div>
        </div>


    </div>
    <script>
        /**
         * lighten() 100 = white
         * brighten => increase intensity, luminosity or vibrancy, becomes more vived or lively
         * darken() 100 = black
         * desaturate() 100 = grey
         * saturate() => mätta färgen (bort från grå)
         */
        (function ($) {
            var steps = 11;
            var adjust = 10;
            var rgb_strings = "";
            var root_variables = $('#root_variables');
            root_variables.html(':root {\n\n');

            function str_replace_rgb(rgb) {
                rgb = rgb.replace("rgb(", "");
                return rgb.replace(")", "");
            }

            /**
             * Basic colors by Scales
             * @param id     Container ID
             * @param color 
             * @param scale 
             * @param steps 
             * @param title  lighten, darken, brighten, desaturate
             * @returns 
             */
            function get_colors_by_scale(id, color, scale = 10, steps, title) {
                var loop = "";
                str_colors = "";
                str_names = "";
                root_variables.append('\n');
                rgb_strings += '\n';
                var loopTitle = title;
                for (i = 0; i < steps; i++) {
                    // Only complement color will include the first color
                    if (i === 0 && id.indexOf('complement') === -1) {
                        continue;
                    }

                    s = i * scale;
                    //var color2 = color.clone();
                    if (title === 'lighten') {
                        loop = tinycolor(color).lighten(s).toString();
                        if (id.indexOf('complement') > -1) {
                            loopTitle = 'complement-lighten'
                        }
                    } else if (title === 'brighten') {
                        loop = tinycolor(color).brighten(s).toString();
                        if (id.indexOf('complement') > -1) {
                            loopTitle = 'complement-brighten'
                        }
                    } else if (title === 'darken') {
                        loop = tinycolor(color).darken(s).toString();
                    } else if (title === 'desaturate') {
                        loop = tinycolor(color).desaturate(s).toString();
                    } else if (title === 'saturate') {
                        loop = tinycolor(color).saturate(s).toString();
                    }
                    str_colors += '<span class="bg_color" style="background-color:' + loop + ';"></span>';
                    str_names += '<span>' + loop + '</span>';

                    if (i > 0) {
                        root_variables.append('--' + loopTitle + '-' + i * 10 + ': ' + loop + ';\n');
                        rgb_strings += '--' + loopTitle + '_' + i * 10 + ': ' +
                            str_replace_rgb(tinycolor(loop).toRgbString()) + ';\n';
                    }
                }
                $(id).append('<div>' + str_colors + '</div>');
                $(id).append('<div>' + str_names + '</div>');
                str_colors = "";
                str_names = "";
            }

            function get_tints_shades(id, color_value, steps, title) {
                var str_colors = "";
                var str_names = "";
                // 1. Gradients of tint
                for (r = 0; r < steps; r++) {
                    alpha = r / 10;
                    z = r;
                    if (steps < 9) {
                        alpha = (r / 10) * 2;
                        z = r * 2
                        if (r == (steps - 1)) {
                            alpha = 0.9
                            z = 9
                        }
                    } else if (r == 10) {
                        alpha = 0.95
                    }
                    c_mix = mix.gradient(color_value, '#fff', alpha);
                    str_colors += '<span class="bg_color" style="background-color:' + c_mix + ';"></span>';
                    str_names += '<span>' + c_mix + '</span>';

                    var rgb_title = title;
                    var rgb_first_title = title;
                    if (title.indexOf('-') > 0) {
                        rgb_title = title.replace('-', '_');
                        rgb_first_title = rgb_title;
                    } else {
                        rgb_first_title += '_00';
                    }
                    if (r === 0) {
                        root_variables.append('\n');
                        if (title == 'basic') {
                            rgb_first_title = 'basic_color';
                            root_variables.append('--' + title + '-color: ' + c_mix + ";\n\n");
                        } else {
                            root_variables.append('--' + title + ': ' + c_mix + ";\n\n");
                        }
                        rgb_strings += '\n--' + rgb_first_title + ': ' +
                            str_replace_rgb(tinycolor(c_mix).toRgbString()) + ";\n\n";
                    } else {
                        root_variables.append('--' + title + '-tint-' + z * 10 + ': ' + c_mix + ';\n');
                        rgb_strings += '--' + rgb_title + '_tint_' + z * 10 + ': ' +
                            str_replace_rgb(tinycolor(c_mix).toRgbString()) + ';\n';
                    }
                }

                if (steps >= 9) {
                    $(id).append('<div>' + str_colors + '</div>');
                    $(id).append('<div>' + str_names + '</div>');
                    str_colors = "";
                    str_names = "";
                }

                root_variables.append('\n');
                rgb_strings += '\n';

                // 2. Gradients of shade
                for (r = 0; r < (steps - 1); r++) {
                    if (r == 10) {
                        break;
                    }
                    z = r;
                    alpha = r / 10;
                    if (steps < 9) {
                        if (r === 0) { continue }
                        alpha = (r / 10) * 2;
                        z = r * 2;
                    }
                    c_mix = mix.gradient(color_value, '#000', alpha);
                    str_colors += '<span class="bg_color" style="background-color:' + c_mix + ';"></span>';
                    str_names += '<span>' + c_mix + '</span>';

                    if (r > 0) {
                        root_variables.append('--' + title + '-shade-' + z * 10 + ': ' + c_mix + ';\n');
                        rgb_strings += '--' + rgb_title + '_shade_' + z * 10 + ': ' +
                            str_replace_rgb(tinycolor(c_mix).toRgbString()) + ';\n';
                    }
                }
                $(id).append('<div>' + str_colors + '</div>');
                $(id).append('<div>' + str_names + '</div>');
                str_colors = "";
                str_names = "";

                /**
                 * 3. Gradients of tone - only for basic color
                 */
                if (title == 'basic') {
                    /*
                        Light Gray: #D3D3D3
                        Medium Gray: #808080
                        Dark Gray: #555555
                        Charcoal Gray: #36454F
                    */
                    var grey_obj = { 'mg': '#808080', 'lg': '#D3D3D3', 'dg': '#555555' };
                    for (var key in grey_obj) {
                        if (grey_obj.hasOwnProperty(key)) {
                            var grey_value = grey_obj[key];
                            var sub = '';
                            var info = 'Tones beased Medium Gray: #808080';
                            if (key !== 'mg') {
                                sub = '-' + key + '-';
                                if (key === 'lg') {
                                    info = 'Tones beased Light Gray: #D3D3D3';
                                } else {
                                    info = 'Tones beased Dark Gray: #555555';
                                }
                            }
                            root_variables.append("\n\/*\n" + info + "\n*\/\n");;
                            rgb_strings += '\n';

                            for (r = 0; r < (steps); r++) {
                                if (r == 10) {
                                    break;
                                }
                                alpha = r / 10;
                                c_mix = mix.gradient(color_value, grey_value, alpha);
                                str_colors += '<span class="bg_color" style="background-color:' + c_mix + ';"></span>';
                                str_names += '<span>' + c_mix + '</span>';

                                if (r > 0) {
                                    root_variables.append('--' + title + '-tone-' + sub + r * 10 + ': ' + c_mix + ';\n');
                                    rgb_strings += '--' + rgb_title + '_tone_' + sub + r * 10 + ': ' +
                                        str_replace_rgb(tinycolor(c_mix).toRgbString()) + ';\n';
                                }
                            }
                            $(id).append('<div>' + str_colors + '</div>');
                            $(id).append('<div>' + str_names + '</div>');
                            str_colors = "";
                            str_names = "";
                        }
                    }

                }
            }

            function append_sole_color(id, color) {
                $(id + ' .wrap_color').append('<span class="bg_color" style="background-color:' + color + ';"</span>');
                $(id + ' .wrap_text').append('<span>' + color + '</span>');
            }

            /**
             * Start from 1 to avoid the repetition of the main color
             * For analogous colors, the main color is also repeated att 3
             */
            function create_palette_for_array(id, color_data, steps, title) {
                var color_array = color_data.map(function (t) { return t.toHexString(); });
                var abstract = 0;
                for (var i = 1; i < color_array.length; i++) {
                    if (i === 3 && title == 'analog') {
                        abstract = 1;
                        continue;
                    }
                    var loopID = id;
                    if (i === 2 && title == 'tetrad') {
                        abstract = 1;
                        continue;
                    }
                    var z = i - abstract;
                    var pos = '-left'
                    if (z == 2) {
                        pos = '-right'
                    }
                    if (title == 'monochrom' || title == 'analog') {
                        pos = '';
                        append_sole_color('#' + title, color_array[i]);
                    } else {
                        append_sole_color(id, color_array[i]);
                    }
                    if (title === 'complement') {
                        get_tints_shades(id + pos, color_array[i], steps, title);
                    } else {
                        get_tints_shades(id + pos, color_array[i], steps, title + '-' + z);
                    }
                }
            }

            function colorChange(new_colour) {
                root_variables.html(':root {\n');
                colour = new_colour
                var tiny = tinycolor(colour);

                /**
                 * For basic colors
                 */
                var basic_value = tinycolor(colour).toHexString();
                var complement_value = tinycolor(colour).complement().toHexString();

                $('#basic').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#complementary').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#basic_colors').html('');
                $('#complement').html('');

                append_sole_color('#basic', basic_value);
                append_sole_color('#complementary', complement_value);

                get_tints_shades('#basic_colors', basic_value, steps, 'basic');
                get_tints_shades('#complement', complement_value, steps, 'complement');
                get_colors_by_scale('#complement', complement_value, 10, 10, 'lighten');
                get_colors_by_scale('#complement', complement_value, 10, 10, 'brighten');

                /**
                 * Scales of basic color
                 */
                var lighten_value = tinycolor(colour).lighten(adjust).toHexString();
                var brighten_value = tinycolor(colour).brighten(adjust).toHexString();
                var darken_value = tinycolor(colour).darken(adjust).toHexString();
                var saturate_value = tinycolor(colour).saturate(adjust).toHexString();
                var desaturate_value = tinycolor(colour).desaturate(adjust).toHexString();

                $('#lighten').html('');
                $('#brighten').html('');
                $('#darken').html('');
                $('#desaturate').html('');
                $('#saturate').html('');
                $('#scales').html('<div class="wrap_color"></div><div class="wrap_text"></div>');

                append_sole_color('#scales', lighten_value);
                append_sole_color('#scales', brighten_value);
                append_sole_color('#scales', darken_value);
                append_sole_color('#scales', saturate_value);
                append_sole_color('#scales', desaturate_value);

                get_colors_by_scale('#lighten', basic_value, 10, 10, 'lighten');
                get_colors_by_scale('#brighten', basic_value, 10, 10, 'brighten');
                get_colors_by_scale('#darken', basic_value, 10, 10, 'darken');
                get_colors_by_scale('#saturate', basic_value, 10, 10, 'saturate');
                get_colors_by_scale('#desaturate', basic_value, 10, 10, 'desaturate');

                /**
                 * Harmonies
                 */
                var monochromatic_value = tiny.monochromatic();
                var analogous_value = tiny.analogous();
                var triad_value = tiny.triad();
                var tetrad_value = tiny.tetrad();
                var splitcomplement_value = tiny.splitcomplement();

                $('#monochrom').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#analog').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#monochromatic').html('');
                $('#analogous').html('');

                $('#triad').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#triad-left').html('');
                $('#triad-right').html('');

                $('#tetrad').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#tetrad-left').html('');
                $('#tetrad-right').html('');

                $('#split').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#split-left').html('');
                $('#split-right').html('');

                create_palette_for_array('#monochromatic', monochromatic_value, 6, 'monochrom');
                create_palette_for_array('#analogous', analogous_value, 6, 'analog');
                create_palette_for_array('#triad', triad_value, steps, 'triad');
                create_palette_for_array('#tetrad', tetrad_value, steps, 'tetrad');
                create_palette_for_array('#split', splitcomplement_value, steps, 'split');

                /**
                 * Gray variables
                 */
                 var greyscale_value = tinycolor(colour).greyscale().toHexString();
                $('#grey_conversion').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#grey').html('');
                append_sole_color('#grey_conversion', greyscale_value);
                get_tints_shades('#grey', greyscale_value, steps, 'grey');


                /**
                 * hue shift
                 * Start from 1 to avoid the repetition of the main color
                 * as 0 and 9 gives the main color (9*40=360)
                 * Gives allmoste the same colors as the other functions
                 * Can be used for any X*Y=360
                 */
                $('#spin').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                $('#hue').html('<div class="wrap_color"></div><div class="wrap_text"></div>');
                for (var i = 0; i < 12; i++) {
                    var spinned = tinycolor(colour).spin(i * 30).toHexString();
                    if (i < 6) {
                        append_sole_color('#spin', spinned);
                    } else {
                        append_sole_color('#hue', spinned);

                    }
                }

                /**
                 * Tone, Tint and Shade opacities
                 * Are saved as root variables but not displayed
                 */
                function get_opacities(type) {
                    root_variables.append("\n");
                    for (r = 0; r < 11; r++) {
                        opacity = (r / 10).toFixed(1);
                        suffix = opacity * 100;
                        if (type == 'tone') {
                            str_color = 'rgba(128, 128, 128, ' + opacity + ')';
                        } else if (type == 'tint') {
                            str_color = 'rgba(255, 255, 255, ' + opacity + ')';
                        } else {
                            str_color = 'rgba(0, 0, 0, ' + opacity + ')';
                        }
                        // -05 is used to change gradients with 3 transparent colors which include 0.0 and 0.05
                        if (r === 1 && type == 'tint') {
                            root_variables.append('--tint-05: rgba(255, 255, 255, 0.05);\n');
                        }
                        root_variables.append("--" + type + '-' + suffix + ": " + str_color + ";\n");
                    }
                }

                root_variables.append("\n\/*\nPure Tints, Shades and Tones\nto be used for any purpose\n*\/");
                get_opacities('tint');
                get_opacities('shade');
                get_opacities('tone');

                root_variables.append("\n\n\/*\nThe last (-) in the above variables\nis replaced by (_).\nConvert HEX colors to RGB string values.\nTo be used as variables\nfor background gradients,\nfor example rgba(var(--basic_color), 0.5)\n*\/\n");
                root_variables.append(rgb_strings);
                root_variables.append('}');
                rgb_strings = '';

            }

            /** 
             * =================================================
             * update color from input
             * =================================================
             */
            function set_color_types(call_color) {
                obj_color = tinycolor(call_color);
                $('#Brightness').text(Math.round(obj_color.getBrightness().toString()));
                $('#Lightness').text(parseFloat(obj_color.toHsl()['l']).toFixed(2));
                $('#Luminance').text(parseFloat(obj_color.getLuminance().toString()).toFixed(2));
                $('#str_rgb').text(obj_color.toRgbString().replaceAll(' ', ''));
                $('#str_rgb_percent').text(obj_color.toPercentageRgbString().replaceAll(' ', ''));
                $('#str_hsl').text(obj_color.toHslString().replaceAll(' ', ''));
                $('#str_hsv').text(obj_color.toHsvString().replaceAll(' ', ''));
            }
            function set_RGB(call_color) {
                obj_color = tinycolor(call_color);
                var str_color_RGB = obj_color.toString('rgb');
                var arr_rgb = str_color_RGB.split('(')[1].split(')')[0].split(',');
                $('#R_Color').val(arr_rgb[0].trim());
                $('#G_Color').val(arr_rgb[1].trim());
                $('#B_Color').val(arr_rgb[2].trim());
            }
            function set_HEX(call_color) {
                $('#HEX_Color').val(call_color.substring(1));
                $('#GetColors').val(call_color);
            }

            $("#GetHEXColor").click(function () {
                var hex_color = $('#HEX_Color').val();
                if (hex_color.indexOf('#') < 0) {
                    hex_color = "#" + hex_color;
                }
                reset_colors(hex_color);
            });

            $("#GetRBGColor").click(function () {
                var rgb_color = 'rgb(' + $('#R_Color').val() + ', ' + $('#G_Color').val() + ', ' + $('#B_Color').val() + ')';
                obj_color = tinycolor(rgb_color);
                hex_color = obj_color.toHexString();

                reset_colors(hex_color);
            });

            $('#GetColors').on('change', function () {
                $('#HEX_Color').val($(this).val());
                $('#GetHEXColor').click();
            })

            function reset_colors(hex_color) {
                set_HEX(hex_color);
                set_RGB(hex_color);
                set_color_types(hex_color);
                colorChange(hex_color);
                var_reload_colors();
            }

            var var_reload_colors = function () {
                $('.bg_color').click(function () {
                    hex_color = $(this).css('background-color');
                    reset_colors(tinycolor(hex_color).toHexString());
                })
            }

            /**
             * set random color on load
             */
            var randomcolor = tinycolor.random();
            hex_color = randomcolor.toHexString();
            reset_colors(hex_color);


            /**
              * Copy Textarea
              */
            $("#copy").click(function () {
                if (!navigator.clipboard) {
                    $("#root_variables").select();
                    document.execCommand('copy');
                } else {
                    var text_to_copy = document.getElementById("root_variables").innerText;
                    navigator.clipboard.writeText(text_to_copy).then(
                        function () {
                            alert("The text has been copied to your clipboard!");
                        })
                        .catch(
                            function () {
                                alert("Error, please copy the text manually!");
                            });
                }
            });

            /**
             * Save Textarea
             */
            $('#download').click(function () {
                var b_color = tinycolor(colour).toHexString().replace('#', '');

                /*
                // You must click on (call the funtion from) an existing <a> link 
                var container = document.querySelector('textarea');
                var anchor = document.querySelector('a#save');
                anchor.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(container.value);
                anchor.download = 'ps_cs_root_variables_' + b_color + '.css';
                */

                // Create temporal <a> link - can be called från any click
                var textcontent = document.getElementById("root_variables").innerHTML;
                var downloadableLink = document.createElement('a');
                downloadableLink.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(textcontent));
                downloadableLink.download = "ps_cs_root_variables_" + b_color + ".css";
                document.body.appendChild(downloadableLink);
                downloadableLink.click();
                document.body.removeChild(downloadableLink);
            });


        })(jQuery);

    </script>
</body>

</html>